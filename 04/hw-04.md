# Домашнее задание к занятию «Продвинутые методы работы с Terraform»

## Чек-лист готовности к домашнему заданию

![Image alt](https://github.com/littlelucidlynx/ter-homeworks/blob/main/04/Screen/Image000.png)

Постараюсь избежать хардкода и передавать значения через переменные. Некоторые впараметры необходимо передавать в явном виде, на то воля хашикорпа

![Image alt](https://github.com/littlelucidlynx/ter-homeworks/blob/main/04/Screen/Image001.png)

[`Итоговые файлы кода в репозитории`](https://github.com/littlelucidlynx/ter-homeworks/tree/main/04/src)

---

## Задание 1

1. Результаты

![Image alt](https://github.com/littlelucidlynx/ter-homeworks/blob/main/04/Screen/Image003.png)

![Image alt](https://github.com/littlelucidlynx/ter-homeworks/blob/main/04/Screen/Image004.png)

![Image alt](https://github.com/littlelucidlynx/ter-homeworks/blob/main/04/Screen/Image005.png)

![Image alt](https://github.com/littlelucidlynx/ter-homeworks/blob/main/04/Screen/Image006.png)

![Image alt](https://github.com/littlelucidlynx/ter-homeworks/blob/main/04/Screen/Image002.png)

------

## Задание 2

1. В output модуля выведу всю информацию, а в root модуле буду брать только нужные значения

Пример вызова

```
module "vpc_dev" {
  source       = "./vpc"
  env_name     = "develop"
  zone = "ru-central1-a"
  cidr = "10.0.1.0/24"
}
```

## Задание 3
1. Список модулей

![Image alt](https://github.com/littlelucidlynx/ter-homeworks/blob/main/04/Screen/Image007.png)

2. Удаление модулей

![Image alt](https://github.com/littlelucidlynx/ter-homeworks/blob/main/04/Screen/Image008.png)

3. Импорт модулей

![Image alt](https://github.com/littlelucidlynx/ter-homeworks/blob/main/04/Screen/Image010.png)

![Image alt](https://github.com/littlelucidlynx/ter-homeworks/blob/main/04/Screen/Image011.png)

4. terraform plan - значимых изменений нет

![Image alt](https://github.com/littlelucidlynx/ter-homeworks/blob/main/04/Screen/Image009.png)

5. Список команд для листа ресурсов, удаления модулей, импорта модулей

```
terraform state list

terraform state rm module.vpc
terraform state rm module.analytics-vm
terraform state rm module.marketing-vm

terraform state list

terraform import module.vpc.yandex_vpc_network.network enpv07q89d1sg0rrs78l
terraform import module.vpc.yandex_vpc_subnet.subnet e9bpbkm51ngtfk9c83n7
terraform import module.analytics-vm.yandex_compute_instance.vm[0] fhm0krnt0cmhirifoe8h
terraform import module.marketing-vm.yandex_compute_instance.vm[0] fhmj0n17hgkk605is4ro

terraform state list

terraform plan

terraform apply
```